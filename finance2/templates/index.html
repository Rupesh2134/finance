{% extends 'base.html' %}
{% block content %}
  <div class="row">
    <div class="col-md-8">
      <h2>Users</h2>
      {% if users %}
        <ul class="list-group">
          {% for u in users %}
            <li class="list-group-item d-flex justify-content-between align-items-center">
              <div>
                <strong>{{ u }}</strong>
                <a href="{{ url_for('view_history', username=u) }}" class="ms-2">(view)</a>
              </div>
              <div>
                <a href="{{ url_for('download', username=u) }}" class="btn btn-sm btn-outline-secondary">Download CSV</a>
              </div>
            </li>
          {% endfor %}
        </ul>
      {% else %}
        <p>No users yet. <a href="{{ url_for('add_user') }}">Add a user</a>.</p>
      {% endif %}
    </div>
    <div class="col-md-4">
      <h2>Quick Actions</h2>
      <p>
        <a href="{{ url_for('add_user') }}" class="btn btn-primary mb-2">Add New User</a>
      </p>
      <p>
        <a href="{{ url_for('record_payment') }}" class="btn btn-success">Record Payment</a>
      </p>
    </div>
  </div>
{% endblock %}
